@startuml
box "Client"
    participant "g : Generator" as g
    participant "d : Diffusion" as d
end box
box "Service"
    participant "oga : ObsGeneratorAsync" as oga
end box
box "Proxy"
    participant "c: canal" as c
end box
box "Scheduler"
participant "s : Scheduler" as s
end box
box "Active Object"
    participant "aq : ActiveQueue" as aq
end box

activate g
activate c
activate s
activate oga
g -> g: setValue(v)
g -> d: execute(g)
deactivate g
activate d
d -> oga: update(g)
deactivate d
create "mi : MethodInvoc" as mi
oga -> mi: create()
oga -> c: update(mi)
c -> s: schedule(mi)
s -> aq: add(mi)
activate aq
aq --> s
deactivate aq
create "f : Future" as f
s -> f: create()
s --> c: f
c --> oga: f
oga --> d: f
activate d
d --> g: f
deactivate d
activate g
@enduml